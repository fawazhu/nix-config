{...}: let
  archive = "org.gnome.FileRoller.desktop";
  browser = "org.mozilla.firefox.desktop";
  calendar = "com.calibre_ebook.calibre.desktop";
  document = "org.libreoffice.LibreOffice.desktop";
  ebook = "com.calibre_ebook.calibre.desktop";
  editor = "nvim.desktop";
  font = "org.gnome.font-viewer.desktop";
  image = "org.gnome.Loupe.desktop";
  music = "io.bassi.Amberol.desktop";
  pdf = "org.gnome.Evince.desktop";
  video = "org.gnome.Totem.desktop";
in {
  xdg.mimeApps = {
    enable = true;
    defaultApplications = {
      "application/calendar+json" = [calendar];
      "application/calendar+xml" = [calendar];
      "application/epub+zip" = [ebook];
      "application/gzip" = [archive];
      "application/http" = [browser];
      "application/json" = [browser];
      "application/msword" = [document];
      "application/pdf" = [pdf];
      "application/xml" = [browser];
      "application/vnd.oasis.opendocument.presentation" = [document];
      "application/vnd.oasis.opendocument.presentation-template" = [document];
      "application/vnd.oasis.opendocument.spreadsheet" = [document];
      "application/vnd.oasis.opendocument.spreadsheet-template" = [document];
      "application/vnd.oasis.opendocument.text" = [document];
      "application/vnd.oasis.opendocument.text-master" = [document];
      "application/vnd.oasis.opendocument.text-template" = [document];
      "application/vnd.openxmlformats-officedocument.presentationml.presentation" = [document];
      "application/vnd.openxmlformats-officedocument.presentationml.slideshow" = [document];
      "application/vnd.openxmlformats-officedocument.presentationml.template" = [document];
      "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet" = [document];
      "application/vnd.openxmlformats-officedocument.spreadsheetml.template" = [document];
      "application/vnd.openxmlformats-officedocument.wordprocessingml.document" = [document];
      "application/vnd.openxmlformats-officedocument.wordprocessingml.template" = [document];
      "application/vnd.ms-excel" = [document];
      "application/vnd.ms-excel.addin.macroEnabled.12" = [document];
      "application/vnd.ms-excel.sheet.macroEnabled.12" = [document];
      "application/vnd.ms-excel.sheet.binary.macroEnabled.12" = [document];
      "application/vnd.ms-excel.template.macroEnabled.12" = [document];
      "application/vnd.ms-powerpoint.addin.macroEnabled.12" = [document];
      "application/vnd.ms-powerpoint.presentation.macroEnabled.12" = [document];
      "application/vnd.ms-powerpoint.slideshow.macroEnabled.12" = [document];
      "application/vnd.ms-powerpoint.template.macroEnabled.12" = [document];
      "application/vnd.ms-word.document.macroEnabled.12" = [document];
      "application/vnd.ms-word.template.macroEnabled.12" = [document];
      "audio/aac" = [music];
      "audio/flac" = [music];
      "audio/mp3" = [music];
      "audio/ogg" = [music];
      "font/collection" = [font];
      "font/otf" = [font];
      "font/ttf" = [font];
      "image/apng" = [image];
      "image/avif" = [image];
      "image/bmp" = [image];
      "image/gif" = [image];
      "image/jpeg" = [image];
      "image/png" = [image];
      "image/svg+xml" = [image];
      "image/tiff" = [image];
      "image/webp" = [image];
      "text/calendar" = [calendar];
      "text/css" = [editor];
      "text/csv" = [editor];
      "text/html" = [browser];
      "text/javascript" = [editor];
      "text/markdown" = [editor];
      "text/plain" = [editor];
      "text/rtf" = [document];
      "text/tab-separated-values" = [editor];
      "text/xml" = [editor];
      "text/yaml" = [editor];
      "video/AV1" = [video];
      "video/mp4" = [video];
      "video/mpeg" = [video];
      "video/ogg" = [video];
      "video/raw" = [video];
      "video/webm" = [video];
      "x-scheme-handler/http" = [browser];
      "x-scheme-handler/https" = [browser];
    };
  };
}
